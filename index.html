<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>2026 Daily Bible Reading Plan</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@400;500&display=swap" rel="stylesheet">

<style>
:root {
  --primary: #6b5bd2;
  --primary-dark: #5849b8;
  --accent: #3c2a6d;
  --bg: #f6f4ff;
  --card: #ffffff;
  --muted: #777;
}

/* ---------- Base ---------- */
body {
  margin: 0;
  font-family: Inter, sans-serif;
  background: linear-gradient(180deg, #f6f4ff 0%, #edeaff 100%);
  display: flex;
  justify-content: center;
}

.container {
  max-width: 1000px;
  width: 92%;
  padding: 32px 0 60px;
}

/* ---------- Hero ---------- */
.hero {
  text-align: center;
  margin-bottom: 36px;
}

.hero h1 {
  font-family: "Playfair Display", serif;
  color: var(--accent);
  font-size: 2.6rem;
  margin-bottom: 10px;
}

.subtitle {
  color: #555;
  font-size: 1.05rem;
}

/* ---------- Buttons ---------- */
.buttons {
  text-align: center;
  margin-bottom: 24px;
}

button {
  background: var(--primary);
  color: white;
  border: none;
  padding: 14px 26px;
  margin: 6px;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1rem;
  transition: transform .15s ease, background .2s ease;
}

button:hover {
  background: var(--primary-dark);
  transform: translateY(-1px);
}

/* ---------- Content ---------- */
#content {
  background: var(--card);
  border-radius: 16px;
  padding: 30px;
  box-shadow: 0 12px 28px rgba(0,0,0,0.08);
}

/* ---------- Progress ---------- */
.progress-wrap {
  margin-bottom: 24px;
}

.progress-text {
  font-size: .9rem;
  color: var(--muted);
  margin-bottom: 6px;
}

.progress-bar {
  height: 10px;
  background: #e6e3ff;
  border-radius: 10px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), #9a8cff);
  width: 0%;
  transition: width .3s ease;
}

/* ---------- Month ---------- */
.month {
  margin-top: 28px;
}

.month h3 {
  cursor: pointer;
  user-select: none;
  background: #f1efff;
  padding: 12px 16px;
  border-radius: 10px;
  font-size: 1.1rem;
}

.month h3::after {
  content: "▸";
  float: right;
  transition: transform 0.2s;
}

.month.open h3::after {
  transform: rotate(90deg);
}

.month-content {
  display: none;
  margin-top: 14px;
}

.month.open .month-content {
  display: block;
}

/* ---------- Reading Card ---------- */
.plan-item {
  background: #fafaff;
  border-radius: 12px;
  padding: 14px 16px;
  margin-bottom: 10px;
  transition: transform .15s ease, box-shadow .15s ease;
}

.plan-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.date {
  font-weight: 600;
  color: var(--primary);
}

a {
  color: var(--accent);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

.gateway-link {
  font-size: 0.85rem;
  color: var(--primary);
  margin-left: 4px;
  font-style: italic;
}

/* ---------- Selector ---------- */
#selector {
  margin-bottom: 20px;
  font-size: .95rem;
}

/* ---------- Responsive ---------- */
@media (max-width: 600px) {
  .hero h1 {
    font-size: 2.1rem;
  }
  #content {
    padding: 22px;
  }
}
</style>
</head>

<body>
<div class="container">

  <div class="hero">
    <h1>2026 Daily Bible Reading</h1>
    <div class="subtitle">One day. One passage. Walking through Scripture together.</div>
  </div>

  <div class="buttons">
    <button id="todayBtn">Today’s Reading</button>
    <button id="planBtn">Full Reading Plan</button>
  </div>

  <div id="selector" style="display:none;">
    Month:
    <select id="monthSelect"></select>
    Day:
    <select id="daySelect"></select>
    <button id="goBtn">Go</button>
  </div>

  <div id="content"></div>

</div>

<script>
const BASE = "https://www.biblegateway.com/passage/?search=";
const VERSION = "&version=NIV";
const link = p => BASE + encodeURIComponent(p) + VERSION;

const progressKey = "bibleReadingProgress";

function getProgress() {
  return JSON.parse(localStorage.getItem(progressKey)) || {};
}

function saveProgress(data) {
  localStorage.setItem(progressKey, JSON.stringify(data));
}

function toggleProgress(month, day) {
  const progress = getProgress();
  const key = `${month}-${day}`;
  progress[key] = !progress[key];
  saveProgress(progress);
  updateProgressBar();
}

/* ---------- Progress ---------- */
function updateProgressBar() {
  const progress = getProgress();
  const total = Object.values(plan).flat().length;
  const done = Object.values(progress).filter(Boolean).length;
  const percent = Math.round((done / total) * 100);

  const bar = document.querySelector(".progress-fill");
  const text = document.querySelector(".progress-text");

  if (bar) bar.style.width = percent + "%";
  if (text) text.textContent = `Progress: ${done} of ${total} days completed`;
}

/* ---------- Month State ---------- */
const monthStateKey = "bibleReadingMonthState";
function getMonthState() {
  return JSON.parse(localStorage.getItem(monthStateKey)) || {};
}
function toggleMonth(month) {
  const state = getMonthState();
  state[month] = !state[month];
  localStorage.setItem(monthStateKey, JSON.stringify(state));
  showPlan();
}

/* ---------- Today ---------- */
function showToday() {
  const now = new Date();
  const month = now.toLocaleString("default",{month:"long"});
  const day = now.getDate().toString();
  const entry = plan[month]?.find(e => e[0] === day);

  document.getElementById("selector").style.display = "none";

  if (!entry) {
    content.innerHTML = "<h2>No reading scheduled.</h2>";
    return;
  }

  content.innerHTML = `
    <div class="progress-wrap">
      <div class="progress-text"></div>
      <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>

    <h2>Today’s Reading</h2>
    <p class="date">${month} ${day}</p>

    <label>
      <input type="checkbox"
        ${getProgress()[`${month}-${day}`] ? "checked" : ""}
        onchange="toggleProgress('${month}','${day}')">
      Mark as completed
    </label>

    <p>
      <a href="${link(entry[1])}" target="_blank">
        ${entry[1]}
        <span class="gateway-link">— Read on Bible Gateway</span>
      </a>
    </p>
  `;

  updateProgressBar();
}

/* ---------- Plan ---------- */
function showPlan() {
  const content = document.getElementById("content");
  document.getElementById("selector").style.display = "block";
  populateMonthSelector();

  const progress = getProgress();
  const monthState = getMonthState();
  const currentMonth = new Date().toLocaleString("default", { month: "long" });

  let html = `
    <div class="progress-wrap">
      <div class="progress-text"></div>
      <div class="progress-bar"><div class="progress-fill"></div></div>
    </div>
    <h2>Full Reading Plan</h2>
  `;

  for (const month in plan) {
    const isOpen = monthState[month] ?? (month === currentMonth);
    html += `
      <div class="month ${isOpen ? "open" : ""}">
        <h3 onclick="toggleMonth('${month}')">${month}</h3>
        <div class="month-content">
    `;

    plan[month].forEach(e => {
      html += `
        <div class="plan-item">
          <input type="checkbox"
            ${progress[`${month}-${e[0]}`] ? "checked" : ""}
            onchange="toggleProgress('${month}','${e[0]}')">
          <span class="date">${month} ${e[0]}</span><br>
          <a href="${link(e[1])}" target="_blank">
            ${e[1]}
            <span class="gateway-link">— Read on Bible Gateway</span>
          </a>
        </div>
      `;
    });

    html += `</div></div>`;
  }

  content.innerHTML = html;
  updateProgressBar();
}

/* ---------- Selector ---------- */
function populateMonthSelector() {
  const monthSelect = document.getElementById("monthSelect");
  const daySelect = document.getElementById("daySelect");
  monthSelect.innerHTML = "";

  Object.keys(plan).forEach(month => {
    const opt = document.createElement("option");
    opt.value = month;
    opt.textContent = month;
    monthSelect.appendChild(opt);
  });

  monthSelect.onchange = () => populateDaySelector(monthSelect.value);
  populateDaySelector(monthSelect.value);
}

function populateDaySelector(month) {
  const daySelect = document.getElementById("daySelect");
  daySelect.innerHTML = "";
  plan[month].forEach(e => {
    const opt = document.createElement("option");
    opt.value = e[0];
    opt.textContent = e[0];
    daySelect.appendChild(opt);
  });
}

document.getElementById("goBtn").onclick = () => {
  const m = monthSelect.value;
  const d = daySelect.value;
  const entry = plan[m].find(e => e[0] === d);
  content.innerHTML = `
    <h2>${m} ${d}</h2>
    <p>
      <a href="${link(entry[1])}" target="_blank">
        ${entry[1]}
        <span class="gateway-link">— Read on Bible Gateway</span>
      </a>
    </p>
  `;
};

document.getElementById("todayBtn").onclick = showToday;
document.getElementById("planBtn").onclick = showPlan;
</script>
</body>
</html>
